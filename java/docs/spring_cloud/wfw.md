# 微服务
微服务是一种架构模式，它提倡将单一应用程序划分成一组小的服务。每个服务运行在其独立的进程中，服务之间通过轻量级通信进行通信。

单个轻量级服务一般为一个单独微服务，微服务讲究的是专注某个功能的实现，
比如登录系统只专注于用户登录方面功能的实现，讲究的是职责单一，开箱即用，可以独立运行。
微服务架构系统是一个分布式的系统，按照业务进行划分服务单元模块，解决单个系统的不足，满足越来越复杂的业务需求。

马丁福勒（Martin Fowler）：就目前而言，对于微服务业界并没有一个统一的、标准的定义。
但通常而言，微服务架构是一种架构模式或者说是架构风格，它提倡将单一应用程序划分成一组小的服务。
每个服务运行在其独立的自己的进程中服务之间相互配合、相互协调，为用户提供最终价值。
服务之间采用轻量级通信。每个服务都围绕具体业务进行构建，并能够独立部署到生产环境等。另外应尽量避免统一的、集中的服务管理机制。

**简单来讲：**

微服务就是一个独立的职责单一的服务应用程序。在`intellij idea`工具里面就是用`maven`开发的一个个独立的`module`，
具体就是使用`springboot`开发的一个小的模块，处理单一专业的业务逻辑，一个模块只做一个事情。

微服务强调的是服务大小，关注的是某一个点，具体解决某一个问题、落地对应的一个服务应用，可以看
做是`idea`里面一个`module`，一个功能就是一个服务。

例如：一个公司有很多部门，但是每个部门负责的职责都是单一的，
比如：财务部门、人事部门、开发部门，都有对应的工作内容，这每个部门就是一个独立的微服务。

## 微服务架构
微服务架构就是对微服务进行管理整合应用的。

微服务架构依赖于微服务，是在微服务基础之上的。

例如：在公司里，每一个部门都是一个独立的微服务，那么公司是一个大型的微服务架构，
就类似董事长可以对下面的部门进行管理。微服务架构主要就是这种功能。

## 微服务的优缺点
- 优点
  - 松耦合，聚焦单一业务功能，无关开发语言，团队规模降低。
  - 小而精，开发中，不需要了解多有业务，只专注于当前功能，便利集中，功能小而精。
  - 高容错，微服务一个功能受损，对其他功能影响并不是太大，可以快速定位问题。
  - 高灵活，可以灵活搭配技术，独立性比较舒服。
- 缺点
  - 高复杂，随着服务数量增加，管理复杂，部署复杂，服务器需要增多，服务通信和调用压力增大，运维工程师压力增大
  - 运维成本高，需要运维工程师，运维成本高。
  - 依赖增强，系统依赖增强，数据一致性，性能监控。

总结：变小变灵活了，数量也变多了，协同性和管理性同步增多。

## 微服务的技术栈

| 微服务组件       | 技术方案                                                         |
|-------------|--------------------------------------------------------------|
| 服务开发        | SpringBoot、Spring、SpringMVC                                  |
| 服务注册与发现     | Nacos、Eurka、Consul、Zookeeper等                                |
| 服务配置与管理     | Nacos、阿里的Dlamond、SpringCloudConfig、Apollo、Netfix公司的Archaius等 |
| 服务路由（API网关） | Gateway、Zuul等                                                |
| 服务调用        | Rest（Fegin）、RPC（Dubbo）、GRpc等                                 |
| 服务熔断器       | Hystrix、Envoy等                                               |
| 负载均衡        | Nginx、Ribbon等                                                |
| 消息队列        | Kafka、RabbitMQ、ActiveMQ等                                     |
| 服务监控        | Zabbix，Nagios，Metrics，Spectator等                             |
| 全链路追踪       | Zipkin，Brave，Dapper等                                         |
| 服务部署        | Docker，OpenStack，Kubernetes等                                 |
| 数据流操作开发包    | SpringCloud Stream（封装与Redis，Rabbit，kafka等发送接收消息）             |
| 事件消息总线      | Spring Cloud Bus                                             |




----
